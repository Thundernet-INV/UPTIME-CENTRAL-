import DB from './historyDB';

// API compatible con tu código existente
const History = {
  addSnapshot(monitors) {
    // persiste y poda (7 días)
    DB.addSnapshots(monitors).catch(()=>{});
    DB.pruneOlderThanDays(7).catch(()=>{});
  },
  // utilitario por si luego quieres graficar 24h/7d
  getSeries(instance, name, days=7) {
    const key = `${instance}::${name||''}`;
    return DB.getSeriesFor(key, days*24*3600*1000);
  }
};

export default History;
